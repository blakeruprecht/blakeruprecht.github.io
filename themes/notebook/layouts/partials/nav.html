<header class="site-header">
  <nav class="site-nav">
    <div class="logo">
      <li>
        <a href="/">{{ .Site.Title }}</a>
      </li>
    </div>

    <div class="menu-container">
      <ul class="menu">
        <li><a href="/blog/">blog</a></li>
        <li><a href="/research/">research</a></li>
        <li><a href="/drawing/">drawing</a></li>
        <li><a href="/woodwork/">woodwork</a></li>
        <li>
          <button class="toggle-theme" onclick="toggleTheme()">
            <i id="theme-icon" class="fa fa-sun"></i>
          </button>
        </li>
      </ul>
    </div>

    <button class="menu-toggle">â˜°</button>
  </nav>
</header>

<!-- JavaScript for Menu Toggling -->
<script>
document.querySelector('.menu-toggle').addEventListener('click', function() {
  document.querySelector('.site-nav').classList.toggle('expanded'); // Change this to toggle the site-nav
});
</script>

<!-- JavaScript for Theme Toggling -->
 <script>
  function toggleTheme() {
  const body = document.body;
  const themeIcon = document.getElementById("theme-icon");

  // Toggle between light and dark theme
  if (body.classList.toggle("dark-mode")) {
    themeIcon.classList.remove("fa-sun"); // Change to moon icon
    themeIcon.classList.add("fa-moon");
  } else {
    themeIcon.classList.remove("fa-moon"); // Change to sun icon
    themeIcon.classList.add("fa-sun");
  }
}

 </script>

<!-- JavaScript for Active Link Highlighting -->
<script>
document.addEventListener('DOMContentLoaded', () => {
    const currentPath = window.location.pathname.replace(/\/$/, ''); // Remove trailing slash
    const menuItems = document.querySelectorAll('.menu a');
    const logo = document.querySelector('.logo a');

    // List of paths considered as the home page
    const homePaths = ['/', '/index.html', '/home.html', '/default.html'];

    // Highlight the matching menu item
    menuItems.forEach(item => {
        const itemPath = item.getAttribute('href').replace(/\/$/, '');  // Normalize href
        if (currentPath.startsWith(itemPath)) {
            item.classList.add('active');
        }
    });

    // Highlight the logo if on any
    if (homePaths.includes(currentPath)) {
        logo.classList.add('active');
    }
});
</script>