<header class="site-header">
  <nav class="site-nav">
    <div class="logo">
      <a href="/">{{ .Site.Title }}</a>
    </div>
    <button class="menu-toggle" aria-label="Toggle Menu">â˜°</button>
    <ul class="menu">
      <li><a href="/blog/">Blog</a></li>
      <li><a href="/research/">Research</a></li>
      <li><a href="/drawing/">Drawing</a></li>
      <li><a href="/woodwork/">Woodwork</a></li>
    </ul>
  </nav>
</header>

<!-- Theme Toggle Button -->
<button onclick="toggleTheme()" aria-label="Toggle Theme">
  <i id="theme-icon" class="fa fa-sun"></i>
</button>

<!-- JavaScript for Menu Toggling -->
<script>
  document.querySelector('.menu-toggle').addEventListener('click', function() {
    document.querySelector('.menu').classList.toggle('expanded');
  });
</script>

<!-- JavaScript for Active Link Highlighting -->
<script>
document.addEventListener('DOMContentLoaded', () => {
    const currentPath = window.location.pathname.replace(/\/$/, ''); // Remove trailing slash
    const menuItems = document.querySelectorAll('.menu a');
    const logo = document.querySelector('.logo a');

    // List of paths considered as the home page
    const homePaths = ['/', '/index.html', '/home.html', '/default.html'];

    // Highlight the matching menu item
    menuItems.forEach(item => {
        const itemPath = item.getAttribute('href').replace(/\/$/, '');  // Normalize href
        if (currentPath.startsWith(itemPath)) {
            item.classList.add('active');
        }
    });

    // Highlight the logo if on any
    if (homePaths.includes(currentPath)) {
        logo.classList.add('active');
    }
});
</script>